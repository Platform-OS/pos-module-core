{% comment %}
  Required params:
    - name string
    - default any
      the default vaue of the variable
    - type string (optional)
      it can be: array, integer, float, boolean, object
{% endcomment %}
{% liquid
  assign result = context.constants[name] | default: default, allow_false: true

  case type
  when "boolean"
    if result == "true"
      assign result = true
    else
      assign result = false
    endif
  when "integer"
    assign result = result | plus: 0
  when "float"
    assign result = result | plus: 0
  when "array"
    assign result = result | split: ','
  endcase

  return result
%}
