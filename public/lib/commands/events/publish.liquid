{% liquid
  assign delay = delay | default: 0.01

  unless type
    log 'type is required', type: 'ERROR: modules/core/commands/events publish'
    return false
  endunless
  unless object
    log 'object is required', type: 'ERROR: modules/core/commands/events publish'
    return false
  endunless

  background job_id = "modules/core/commands/events/create", source_name: 'modules/core/commands/events/create' priority: 'low', type: type, object: object, actor_id: actor_id, delay: delay

  return true
%}
