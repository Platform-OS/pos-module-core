{% liquid
  # if context.tests
  #   return true
  # endif

  assign delay = delay | default: 0.01

  unless type
    log 'type is required', type: 'ERORR: modules/core/commands/events publish'
  endunless
  unless object
    log 'object is required', type: 'ERORR: modules/core/commands/events publish'
  endunless

  background job_id = "modules/core/commands/events/create", source_name: 'modules/core/commands/events/create' priority: 'low', type: type, object: object, actor_id: actor_id, delay: delay

  return true
%}
